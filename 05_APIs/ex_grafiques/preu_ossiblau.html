
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Preu peix ossi</title>

    <!-- jQuery + jQuery UI -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <!-- Charist -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.css">
    <script src="https://cdn.jsdelivr.net/chartist.js/latest/chartist.min.js"></script>

    <style>
        .ct-chart{
            height: 550px;
        }
    </style>
    

</head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">
                <h1>Evolució del preu del peix de tipus "Ossi blau"</h1>
                <div class="ct-chart ct-perfect-fourth"></div>
            </div>
        </div>
        
    </div>
    

    <script>
        $(function(){

            // Variables globals
            var adreca = "https://analisi.transparenciacatalunya.cat/resource/ge3m-4jgm.json?grup=OSSIS-BLAU";
            var anys = []; 
            var preus = [];

            $.get(adreca, function(data, status){
                // Variables
                var info_peixos = data;

                for(i=0; i < info_peixos.length; i++){
                    info_peix = data[i];
                
                    // Push dels anys a l'array
                    anys.push(info_peix.any)

                    //Push de les dades del preu
                    preus.push(info_peix.preu_kg)
                    
                }

                // Gràfic
                new Chartist.Line('.ct-chart', {
                labels: anys,
                series: [
                    preus,
                ]
                }, {
                fullWidth: true,
                chartPadding: {
                    right: 40
                }
                });


            }); 


            
                    
        });
    </script>
    
</body>
</html>